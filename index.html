<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<title>Pocketix V1 Project Overview</title>
	<style>
        :root {
            --primary: #4a90e2;
            --accent: #00c9a7;
            --bg: #f9fafa;
            --text: #2c3e50;
            --code-bg: #2e3b4e;
            --code-text: #ecf0f1;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 2rem;
            line-height: 1.7;
        }

        h1, h2, h3 {
            color: var(--primary);
            margin-top: 2rem;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        a {
            color: var(--accent);
            text-decoration: none;
            font-weight: 500;
        }

        a:hover {
            text-decoration: underline;
        }

        .section {
            background: #fff;
            border-radius: 10px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.05);
            transition: box-shadow 0.3s ease;
        }

        .section:hover {
            box-shadow: 0 10px 28px rgba(0, 0, 0, 0.1);
        }

        code, pre {
            background-color: var(--code-bg);
            color: var(--code-text);
            padding: 1rem;
            border-radius: 8px;
            display: block;
            overflow-x: auto;
            margin-top: 1rem;
            margin-bottom: 1rem;
        }

        ul {
            padding-left: 1.5rem;
        }

        li {
            margin-bottom: 0.5rem;
        }

        p {
            margin-bottom: 1rem;
        }

        h4 {
            color: var(--primary);
            margin-top: 1.5rem;
            font-size: 1.25rem;
            margin-bottom: 0.5rem;
        }

        iframe {
            width: 100%;
            height: 100vh;
            border: 1px solid #ddd;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);
            transition: box-shadow 0.3s ease;
        }

        iframe:hover {
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
        }

        .img-center {
            display: flex;
            justify-content: center;
            margin: 2rem 0;
        }

        .img-center img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
            transition: box-shadow 0.3s ease;
        }

        .img-center img:hover {
            box-shadow: 0 6px 24px rgba(0, 0, 0, 0.12);
        }

        .texttt {
            font-family: 'Courier New', Courier, monospace;
            font-size: 1em;
            background: none;
            padding: 0.1em 0.2em;
            border-radius: 4px;
            color: var(--text);
            letter-spacing: 0.5px;
        }
        .page-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
        }
        @media (max-width: 768px) {
            .page-container {
                max-width: 100%;
                margin: 0;
                padding: 0;
            }

			body {
				padding: 0.5rem;
			}

			.section {
				padding: 0.5rem;
			}
        }
	</style>
</head>
<body>
	<div class="page-container">
		<h1>Pocketix V1 Project Overview</h1>
		<p><strong>Pocketix</strong> is a block- and form-based visual programming language and editor currently being developed
			by <a href="mailto:ijohn@fit.vut.cz">Petr John</a> and <a href="mailto:hynek@fit.vut.cz">Jiří Hynek</a> at <a
					href="https://www.fit.vut.cz/.en" target="_blank">BUT FIT</a>, primarily aimed at automating smart devices
			on mobile phones.</p>

		<p>The first prototype was created through a collaboration between BUT FIT and <a href="https://www.logimic.com/cs/"
																						  target="_blank">Logimic</a> as part of
			the project <em>Services for Water Management and Monitoring Systems in Retention Basins</em>.</p>

		<p>More information is available on the <a href="https://github.com/pocketix" target="_blank">Pocketix GitHub
			Organization</a>.</p>

		<p><strong>Pocketix V1</strong> specifically refers to the current ecosystem of editors and interpreter built around the
			first version of the Pocketix scripting language.</p>


		<div class="section">
			<h2>Pocketix V1 Editor (React & Angular)</h2>
			<p><a href="https://github.com/pocketix/pocketix-react" target="_blank">pocketix-react</a> and
				<a href="https://github.com/pocketix/pocketixng" target="_blank">pocketixng</a> provide drag-and-drop
				interfaces for designing automation flows. These editors are ideal for non-programmers and built on
				React and Angular respectively.
			</p>
			<ul>
				<li><a href="https://pocketix-react.pocketix.org/" target="_blank">React Editor Demo</a></li>
				<li><a href="https://pocketixng.pocketix.org/" target="_blank">Angular Editor Demo</a></li>
			</ul>

			<h3>Key Features</h3>
			<ul>
				<li>Block and form-based editing</li>
				<li>Configurable conditions and actions</li>
				<li>Device integration and workflow logic</li>
				<li>Compatible with Pocketix V1 scripting</li>
			</ul>

			<h3>Quick Start</h3>
			<code>git clone &lt;repo_url&gt;<br/>cd &lt;repo_dir&gt;<br/>npm run install:all<br/>npm run start:demo</code>
			<p>Replace <code>&lt;repo_url&gt;</code> and <code>&lt;repo_dir&gt;</code> with the actual repository info.</p>

			<h3>Visual Editor Overview</h3>

			<p>The visual editor, an example of which is shown in the figure below, consists of the following platform
				components:</p>
			<div class="img-center">
				<img src="visualEditorOverview.png" alt="Visual Editor Overview">
			</div>

			<h4>Program</h4>
			<p>The main graphical component that wraps the entire editor, including the graphical components of the text and
				visual editors. The component expects the program representation, language, and editor settings as input, with
				their current states maintained in memory. It also manages auxiliary objects, such as synchronization between
				the graphical and text editors, and a history stack allowing the user to undo actions. The component includes a
				configurable menu.</p>

			<h4>Text Editor</h4>
			<p>Provides text input (program) from the user. If synchronization is active, the parsed program representation is
				propagated to the Program component, and the visual editor’s content is updated accordingly.</p>

			<h4>Visual Editor</h4>
			<p>A graphical component intended for visual programming. Its principle is based on the recursive nesting of the
				following graphical components:</p>

			<h5>Block</h5>
			<p>A graphical component consisting of a sequence of compound or unit commands. It allows dynamic modification of
				the command list (moving, adding, removing). The list of commands is derived from the visual language definition
				and the device model.</p>

			<h5>Command</h5>
			<p>A generic graphical component representing a command, composed of a header and a body. Inputs are represented by
				visual and structural properties of the <span class="texttt">LanguageStatement</span> type. The header and body can be
				populated with other components using Angular’s Content Projection feature. This is specifically used in:</p>

			<ul>
				<li><strong>Compound Command</strong>: A graphical component that adds an optional condition represented by an
					expression to the header, and a block of commands to the body.
				</li>
				<li><strong>Unit Command</strong>: A graphical component that extends the command body with a list of parameters
					represented by expressions.
				</li>
			</ul>

			<h5>Expression</h5>
			<p>A graphical component represented by a field for writing expressions. A dialog for creating more complex
				expressions composed of variables (parameters) is also implemented. The principle of inserting parameters is
				demonstrated in the figure below.</p>
			<div class="img-center">
				<img src="semanticErrorExample.png" alt="Expression Dialog">
			</div>

			<p>A timeout after finishing typing, followed by validation, is handled similarly to the text editor.</p>

			<h4>Dynamic Language Modification</h4>
			<p>The editor allows dynamic language modification during application runtime. For this purpose, a simple text
				editor, shown in the figure below, was created:</p>
			<div class="img-center">
				<img src="simpleTextEditor.png" alt="Simple Text Editor">
			</div>

			<p>This graphical component primarily serves as a tool for testing the editor’s functionality. However, dynamic
				language modification plays a crucial role in making the editor generic and usable for other types of devices.
				Adjustments are necessary during the editor startup and language modification according to the device model(s)
				for which the program will be created. Unit commands and parameters offered during program creation are derived
				from the model.</p>

			<h4>Input Validation</h4>
			<p>The editor must handle the validity of user input. In the text editor, this involves syntactic analysis of the
				text input, which is parsed into an object representation of the program. Syntax errors are indicated as shown
				in the figure below:</p>
			<div class="img-center">
				<img src="syntaxErrorHighlight.png" alt="Syntax Error Highlight">
			</div>

			<p>Since the project's main goal was visual programming, less emphasis was placed on text code validation. On the
				other hand, the visual editor includes support for semantic validation through static analysis of the program’s
				object model. An example, such as an incorrectly placed <span class="texttt">else</span> command that should follow an
				<span class="texttt">if</span> command, is shown in the figure below:</p>
			<div class="img-center">
				<img src="semanticErrorExample.png" alt="Semantic Error Example">
			</div>

			<p>These conditions are defined within the structural properties of the commands.</p>

			<h4>Scalability</h4>
			<p>The editor is scalable. Individual parts of the editor (text and visual sections, menu, or menu buttons) can be
				shown or hidden both manually and programmatically. This feature is particularly useful for mobile views, where
				only limited width is available. An example of the mobile view is shown in the figure below:</p>
			<div class="img-center">
				<img src="mobileView.png" alt="Mobile View">
			</div>

			<h3>Try It Out!</h3>
			Bellow you are able to try out both editors. Note that it might be better to visit them directly, especially if you
			are on mobile.
			<h4>Pocketixng</h4>
				<a href="https://pocketixng.pocketix.org/" target="_blank">Visit!</a>
				<iframe src="https://pocketixng.pocketix.org"></iframe>
			<h4>Pocketix React</h4>
				<a href="https://pocketix-react.pocketix.org/" target="_blank">Visit!</a>
				<iframe src="https://pocketix-react.pocketix.org"></iframe>
		</div>

		<div class="section">
			<h2>Pocketix Node Interpreter</h2>
			<p><strong>Pocketix Node</strong> is the backend logic engine that interprets automation flows from the editors and
				outputs clean, testable commands — with zero risk of triggering hardware unintentionally.</p>

			<h3>Key Features</h3>
			<ul>
				<li>Dry-run automation execution</li>
				<li>Command & state generation engine</li>
				<li>Extendable with custom device logic</li>
			</ul>

			<h3>Run a Program</h3>
			<code>
				const runner = new ProgramRunner()<br/>
				.setCommander(commander)<br/>
				.setReferenceManager(referenceManager)<br/>
				.parseProgram(program);<br/><br/>

				const {{ commands, toUpdate }} = await runner.run();
			</code>

			<h3>Testing</h3>
			<code>npm run test</code>
		</div>

		<div class="section">
			<h2>Related Links</h2>
			<ul>
				<li><a href="https://github.com/pocketix" target="_blank">Pocketix GitHub Org</a></li>
				<li><a href="https://github.com/pocketix/pocketix-node-core" target="_blank">Node Core for IoT</a></li>
			</ul>
		</div>

		<div class="section">
			<h2>Contributing & License</h2>
			<p>All Pocketix V1 components are open-source under the MIT License. Contributions are warmly welcomed via pull
				requests on GitHub.</p>
		</div>
	</div>
</body>
</html>
